<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette Extractor | Pro Suite</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="dark">

<header class="app-header">
    <h1>COLOR PALETTE EXTRACTOR</h1>
    <p>Professional Extraction, WCAG Analysis & Production Asset Generation</p>
    <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn" title="Toggle Light/Dark Mode">‚òÄÔ∏è</button>
</header>

<div class="app-container">
    <main class="card">
        <div class="drop-section">
            <div id="drop-zone" onclick="document.getElementById('file-input').click()">
                <span style="font-size: 20px;">üñºÔ∏è</span>
                <span style="font-weight: 600;">Drag image or click to analyze</span>
            </div>
            <img id="image-preview" alt="Preview">
        </div>
        <input type="file" id="file-input" hidden accept="image/*">

        <div class="controls">
            <div class="field">
                <label>Swatches: <span id="c-val" style="color:var(--p)">16</span></label>
                <input type="range" id="c-count" min="4" max="64" value="16">
            </div>
            <div class="field">
                <label>Sort By</label>
                <select id="sort">
                    <option value="freq">Popularity</option>
                    <option value="lum">Luminance</option>
                </select>
            </div>
            <div class="field">
                <label>View</label>
                <select id="layout">
                    <option value="grid">Grid</option>
                    <option value="strip">Strip</option>
                </select>
            </div>
        </div>

        <div id="palette-output" class="grid-view"></div>
        <button class="btn-export" style="margin-top:20px" onclick="downloadTexture()">üíæ Download Texture Map (.png)</button>
    </main>

    <aside class="sidebar">
        <div class="card">
            <label>Accessibility Hub</label>
            <div id="contrast-list" style="margin-top:15px"></div>
        </div>
        
        <div class="card">
            <div class="sidebar-header">
                <label>History Log</label>
                <button class="btn-clear" onclick="clearHistory()">Clear</button>
            </div>
            <div id="history-list" class="history-container">
                <p style="font-size: 11px; color: var(--text-dim); text-align: center; padding: 20px;">No history records found.</p>
            </div>
        </div>
    </aside>
</div>

<canvas id="main-canvas"></canvas>
<input type="color" id="hidden-picker" class="hidden-picker">
    <script src="script.js"></script>
</body>
</html>
