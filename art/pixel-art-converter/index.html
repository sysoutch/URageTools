<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Art Studio</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../../style.css">
</head>
<body data-theme="dark">

    <div class="sidebar">
        <div class="header-row">
            <h1>Pixel Art Studio</h1>
            <button class="theme-toggle" id="theme-btn">üåô</button>
        </div>

        <div class="control-group">
            <label>1. Select Image</label>
            <input type="file" id="fileInput" accept="image/*">
        </div>

        <div class="control-group">
            <label>2. Pixel Density: <span id="pixelSizeValue" style="color:var(--accent)">8</span>px</label>
            <input type="range" id="pixelSizeSlider" min="1" max="32" value="8">
            <div style="display:flex; align-items:center; gap:8px; margin-top:5px;">
                <input type="checkbox" id="autoScaleCheckbox">
                <label style="text-transform:none; font-weight:400;">Auto-scale for large images</label>
            </div>
            <div style="display:flex; align-items:center; gap:8px; margin-top:5px;">
                <input type="checkbox" id="autoConvertCheckbox" checked>
                <label style="text-transform:none; font-weight:400;">Auto-convert</label>
            </div>
        </div>

        <div class="control-group">
            <label>3. Transparency</label>
            <div class="color-well">
                <input type="color" id="bgColorPicker" value="#ffffff">
                <button class="btn btn-outline" id="pickColorBtn" style="padding:4px 8px; font-size:0.7rem;">Sample Eye-dropper</button>
            </div>
            <div style="display:flex; align-items:center; gap:8px; margin-top:5px;">
                <input type="checkbox" id="removeBgCheckbox">
                <label style="text-transform:none; font-weight:400;">Remove selected color</label>
            </div>
        </div>

        <button class="btn btn-primary" id="convertBtn">‚ú® Process Pixels</button>

        <div class="control-group" style="margin-top:auto; gap:10px;">
            <button class="btn btn-success" id="downloadBtn" style="display:none;">üíæ Save PNG</button>
            <button class="btn btn-outline" id="downloadScaledBtn" style="display:none;">üñºÔ∏è Save 4K Scale</button>
        </div>
    </div>

    <div class="main-content">
        <div class="preview-grid">
            <div class="preview-card" id="cardOriginal">
                <h3>Source Image</h3>
                <canvas id="originalCanvas" class="hidden"></canvas>
            </div>
            <div class="preview-card" id="cardPixel">
                <h3>Pixel Preview</h3>
                <canvas id="pixelCanvas" class="hidden"></canvas>
            </div>
        </div>

        <div class="instructions">
            <strong>Pro Tip:</strong> Adjust the Pixel Density slider to find the perfect retro balance. Once converted, the "4K Scale" option uses nearest-neighbor upscaling to keep your pixels crisp at high resolutions.
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>